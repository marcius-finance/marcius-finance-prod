(window.webpackJsonp=window.webpackJsonp||[]).push([[16,3,4,5,6,7,8],{667:function(t,e,r){"use strict";r.r(e);r(68),r(45);var n={"":"",world:"ðŸŒŽ World",en:"ðŸ‡ºðŸ‡¸ United States",ru:"ðŸ‡·ðŸ‡º Russia",ukr:"ðŸ‡ºðŸ‡¦ Ukraine",vnm:"ðŸ‡»ðŸ‡³ Vietnam",deu:"ðŸ‡©ðŸ‡ª Germany",sp:"ðŸ‡ªðŸ‡¸ Spain",bra:"ðŸ‡§ðŸ‡· Brazil",kor:"ðŸ‡°ðŸ‡· Korea"},l=Object.keys(n).map((function(t){return{title:n[t],value:t}}));e.default={regions:{"":"",world:"ðŸŒŽ",en:"ðŸ‡ºðŸ‡¸",ru:"ðŸ‡·ðŸ‡º",ukr:"ðŸ‡ºðŸ‡¦",vnm:"ðŸ‡»ðŸ‡³",deu:"ðŸ‡©ðŸ‡ª",sp:"ðŸ‡ªðŸ‡¸",bra:"ðŸ‡§ðŸ‡·",kor:"ðŸ‡°ðŸ‡·"},options:l}},668:function(t,e,r){"use strict";r.r(e);var n=r(667),l=[{title:"Polygonum Online",value:"polygonumonline"},{title:"Counter-Strike: Global Offensive",value:"csgo"},{title:"Dota 2",value:"dota2"}],o={props:["value"],data:function(){return{projects:l,regions:n.default.options,schema:[{label:"Tag",value:"tag",placeholder:"TAG",max:4},{label:"Name",value:"name",max:20},{label:"Treasury",value:"treasury",placeholder:"0x...00",max:50},{label:"URL",value:"url",placeholder:"http://example.com",max:50}],form:{region:""}}},computed:{model:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},c=r(1),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"columns"},[t._l(t.schema,(function(i,e){return r("div",{key:e,staticClass:"column col-6 col-sm-12 mb"},[r("c-input",{attrs:{placeholder:i.placeholder,label:i.label,max:i.max,uppercase:"tag"==i.value},model:{value:t.model[i.value],callback:function(e){t.$set(t.model,i.value,e)},expression:"model[i.value]"}})],1)})),t._v(" "),r("div",{staticClass:"column col-6 col-sm-12"},[r("c-select",{attrs:{label:"Region",items:t.regions},model:{value:t.model.region,callback:function(e){t.$set(t.model,"region",e)},expression:"model['region']"}})],1)],2)}),[],!1,null,null,null);e.default=component.exports},669:function(t,e,r){"use strict";r.r(e);var n,l=r(62),o=(r(46),r(40)),c=r(668),d={props:["id"],data:function(){return{guild:{}}},methods:{submit:function(){var t=this,data={tag:this.guild.tag,name:this.guild.name,region:this.guild.region,treasury:this.guild.treasury,url:this.guild.url};this.$apollo.mutate({mutation:Object(o.a)(n||(n=Object(l.a)(["mutation updateGuild($id:ID!, $data:guildUpdateInputType!) { updateGuild(id: $id, data: $data) }"]))),variables:{id:this.id,data:data}}).then((function(){return t.$loader().done(!0)})).catch((function(e){return t.$toast.error(e.graphQLErrors[0].message)}))}},apollo:{guild:r(127).b},components:{tform:c.default}},m=r(1),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("c-modal",{attrs:{title:"Update Guild",event:"updateGuild"+t.id}},[r("tform",{model:{value:t.guild,callback:function(e){t.guild=e},expression:"guild"}}),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("c-btn",{nativeOn:{click:function(e){return t.submit.apply(null,arguments)}}},[t._v("Submit")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},670:function(t,e,r){"use strict";r.r(e);var n,l=r(62),o=r(40),c={data:function(){return{form:{}}},watch:{"$store.state.blockchain.wallet":function(t){this.setTreasury()}},mounted:function(){this.setTreasury()},methods:{submit:function(){var t=this;this.$apollo.mutate({mutation:Object(o.a)(n||(n=Object(l.a)(["mutation createGuild($data: guildInputType!) { createGuild(data: $data) }"]))),variables:{data:this.form}}).then((function(){t.$loader().done(!0),t.$bus.$emit("createGuild")})).catch((function(e){return t.$toast.error(e.graphQLErrors[0].message)}))},setTreasury:function(){this.$store.getters["blockchain/isWalletConnected"]&&this.$set(this.form,"treasury",this.$store.state.blockchain.wallet)}},components:{tform:r(668).default}},d=r(1),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("c-modal",{attrs:{title:"Create Guild",event:"createGuild"}},[r("tform",{model:{value:t.form,callback:function(e){t.form=e},expression:"form"}}),t._v(" "),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("c-btn",{nativeOn:{click:function(e){return t.submit.apply(null,arguments)}}},[t._v("Submit")])],1)],1)}),[],!1,null,null,null);e.default=component.exports},671:function(t,e,r){"use strict";r.r(e);var n,l,o=r(62),c=(r(17),r(99),r(40)),d=r(667),m=r(669),v={props:["i","idx"],data:function(){return{user:{name:"User"},regions:d.default.regions,active:!1}},computed:{id:function(){return this.i.owner},isOwner:function(){return this.id==this.$store.state.user.id},guildID:function(){return this.i._id},isAuth:function(){return this.$store.getters["user/isAuth"]},isMember:function(){var t=this;return this.i.members.some((function(i){return i==t.$store.state.user.id}))}},methods:{addMemberGuild:function(){var t=this;this.$apollo.mutate({mutation:Object(c.a)(n||(n=Object(o.a)(["mutation addMemberGuild($id:ID!) { addMemberGuild(id: $id) }"]))),variables:{id:this.guildID}}).then((function(){return t.$loader().done(!0)})).catch((function(e){return t.$toast.error(e.graphQLErrors[0].message)}))},removeMemberGuild:function(){var t=this;this.$apollo.mutate({mutation:Object(c.a)(l||(l=Object(o.a)(["mutation removeMemberGuild($id:ID!) { removeMemberGuild(id: $id) }"]))),variables:{id:this.guildID}}).then((function(){return t.$loader().done(!0)})).catch((function(e){return t.$toast.error(e.graphQLErrors[0].message)}))},invite:function(){var t=this,e="".concat(document.location.origin+document.location.pathname,"?ref=").concat(this.guildID);navigator.clipboard.writeText(e).then((function(){t.$toast.show("Guild invite link was copied")}),(function(){console.error("Async: Could not copy text: ",err)}))}},apollo:{user:r(127).g},components:{updateGuild:m.default}},_=r(1),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card2 mb",class:{active:t.active},on:{click:function(e){t.active=!t.active}}},[r("div",{staticClass:"card2__inner"},[r("div",{staticClass:"card2__bg flex flex-center"},[r("div",{staticClass:"card2__number",class:{card2__number_crown:0==t.idx}},[t._v(t._s(0==t.idx?"":t.idx+1)+"\n            ")]),t._v(" "),r("span",{staticClass:"h4 text-secondary"},[t._v(t._s(t._f("shortWalletAddress")(t.i._id)))])]),t._v(" "),r("div",{staticClass:"card2__details"},[r("div",{staticClass:"mb05"},[r("div",{staticClass:"label label__sm"},[t._v("Polygonum Online")]),t._v(" "),t.isMember?r("div",{staticClass:"label label__sm label__green"},[t._v("Joined "+t._s(t._f("shortWalletAddress")(t.$store.state.blockchain.wallet)))]):t._e()]),t._v(" "),r("div",{staticClass:"card__title"},[t._v(t._s(t.regions[t.i.region])+" ["+t._s(t.i.tag)+"] "+t._s(t.i.name))]),t._v(" "),r("div",{staticClass:"d-flex mb"},[r("div",{staticClass:"badge blue"},[t._v(t._s(t.i.members.length||0)+" members")])]),t._v(" "),r("div",{staticClass:"tile"},[r("div",{staticClass:"tile__section tile__avatar"},[r("c-avatar",{attrs:{height:"2.5rem"}},[r("img",{attrs:{src:"https://ui8-unity-gaming.herokuapp.com/img/ava-3.png",alt:""}})])],1),t._v(" "),r("div",{staticClass:"tile__section"},[t.user&&t.user.name?r("div",{staticClass:"text-bold",class:{card2__confirm:t.i.confirmed}},[t._v("\n                        "+t._s(t.user.name)+" ")]):t._e(),t._v(" "),t.i.treasury?r("a",{attrs:{href:"https://bscscan.com/address/"+t.i.treasury,target:"_blank"}},[r("span",{staticClass:"material-icons mb05 text-caption"},[t._v(" open_in_new ")]),t._v("\n                        "+t._s(t._f("shortWalletAddress")(t.i.treasury))+"\n                    ")]):t._e()])])])]),t._v(" "),r("div",{staticClass:"card2__actions"},[t.isMember?r("c-btn",{staticClass:"card2__action",attrs:{disabled:!t.isAuth},nativeOn:{click:function(e){return t.removeMemberGuild.apply(null,arguments)}}},[r("span",{staticClass:"material-icons"},[t._v("person_remove")])]):r("c-btn",{staticClass:"card2__action",attrs:{disabled:!t.isAuth},nativeOn:{click:function(e){return t.addMemberGuild.apply(null,arguments)}}},[r("span",{staticClass:"material-icons"},[t._v("person_add_alt")])]),t._v(" "),t.i.url?r("a",{staticClass:"card2__action",attrs:{href:t.i.url,target:"_blank"}},[r("span",{staticClass:"material-icons"},[t._v(" open_in_new ")])]):t._e(),t._v(" "),t.isOwner?r("c-btn",{staticClass:"card2__action",nativeOn:{click:function(e){return t.$bus.$emit("updateGuild"+t.guildID)}}},[r("span",{staticClass:"material-icons"},[t._v(" edit ")])]):t._e(),t._v(" "),r("c-btn",{staticClass:"card2__action",nativeOn:{click:function(e){return t.invite.apply(null,arguments)}}},[r("span",{staticClass:"material-icons"},[t._v(" share ")])])],1),t._v(" "),r("updateGuild",{attrs:{id:t.guildID}})],1)}),[],!1,null,null,null);e.default=component.exports},672:function(t,e,r){"use strict";r.r(e);var n=r(127),l={data:function(){return{statGuilds:{}}},apollo:{statGuilds:n.f,$subscribe:{statGuilds:Object(n.f)(!0)}}},o=r(1),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("c-card",[r("c-card-section",{staticClass:"text-center"},[r("span",{staticClass:"material-icons mb",staticStyle:{"font-size":"5rem"}},[t._v("leaderboard")]),t._v(" "),r("div",{staticClass:"text-bold"},[t._v("Total members")]),t._v(" "),r("div",{staticClass:"h1 mb mt text-primary",staticStyle:{"font-size":"3.5rem"}},[t._v(t._s(t.statGuilds.members))]),t._v(" "),r("div",{staticClass:"text-secondary"},[t._v("Total guilds "+t._s(t.statGuilds.guilds)+" have been created.")])])],1)}),[],!1,null,null,null);e.default=component.exports},678:function(t,e,r){"use strict";r.r(e);r(47),r(159),r(37),r(17),r(98),r(128),r(46);var n=r(670),l=r(671),o=r(672),c=r(127),d={data:function(){return{search:"",guilds:[],headers:["","region","tag","name","project(s)","members",""],ref:!1}},computed:{filtered:function(){var t=this.search.toLowerCase();return this.guilds.filter((function(i){return i.name.toLowerCase().includes(t)||i.tag.toLowerCase().includes(t)||i._id.toLowerCase().includes(t)}))}},mounted:function(){this.ref=this.$route.query.ref,this.ref&&(this.search=this.ref)},apollo:{guilds:c.c,$subscribe:{guilds:Object(c.c)(!0)}},components:{createGuild:n.default,guild:l.default,stat:o.default}},m=r(1),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("c-page",{attrs:{title:"Guilds",subtitle:"Build community"}},[r("div",{staticClass:"columns mb"},[r("div",{staticClass:"column col-12"},[r("c-input",{attrs:{"before-icon":"search",placeholder:"Search",lg:"",search:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[r("c-btn",{attrs:{primary:"",disabled:!t.$store.getters["user/isAuth"]},nativeOn:{click:function(e){return t.$bus.$emit("createGuild")}}},[t._v("\n                    Create Guild")])],1)],1),t._v(" "),r("div",{staticClass:"column col-3 col-sm-5"})]),t._v(" "),t._l(t.filtered,(function(i,t){return r("guild",{key:t,attrs:{i:i,idx:t}})})),t._v(" "),r("div",{attrs:{slot:"column"},slot:"column"},[r("stat")],1),t._v(" "),r("createGuild")],2)}),[],!1,null,null,null);e.default=component.exports}}]);